
extends ../layout/partial

block billboard
  | {{ image.parent.session.subject.collection | capitalize }}
  | Patient {{ image.parent.session.subject.number }}
  | Session {{ image.parent.session.number }}
  | {{ image.parent.title }}
  | Time Point {{ image.timePoint }}

block content
  .row.qi-overlay-select
    .col-md-1.qi-overlay-select-label Overlay
    .col-md-11
      .btn-group
        button.btn.btn-primary(btn-radio='1') None
        button.btn.btn-primary(btn-radio='2') &Delta;K<sup>trans</sup>
        button.btn.btn-primary(btn-radio='3') FXR K<sup>trans</sup>
        button.btn.btn-primary(btn-radio='4') FXL K<sup>trans</sup>
        button.btn.btn-primary(btn-radio='5') v<sub>e</sub>
        button.btn.btn-primary(btn-radio='6') &tau;<sub>i</sub>
  .qi-image-background
    qi-series-image.col-md-9.qi-series-image(image='image')
      // Mark up accordian header and image controls.
  .qi-image-ctl
    accordion
      accordion-group(is-open="true")
        accordion-heading Opacity
        // The opacity controls.
        .row
          .col-md-3.qi-image-ctl-label Volume
          .col-md-9
            slider(floor='0' ceiling='1' step='0.1' precision='1' ng-model='image.volume.opacity')
        .row
          .col-md-3.qi-image-ctl-label Overlay
          .col-md-9
            slider(floor='0' ceiling='1' step='0.1' precision='1' ng-model='image.volume.labelmap.opacity')
    accordion
      accordion-group(is-open="true")
        accordion-heading Slices
        // The slice controls.
        .row
          .col-md-3.qi-image-ctl-label Sagittal
          .col-md-9
            slider(floor='0' ceiling='319' step='1' ng-model='image.volume.range[0]')
        .row   
          .col-md-3.qi-image-ctl-label Coronal
          .col-md-9
            slider(floor='0' ceiling='319' step='1' ng-model='image.volume.range[1]')
        .row
          .col-md-3.qi-image-ctl-label Axial
          .col-md-9
            slider(floor='0' ceiling='319' step='1' ng-model='image.volume.range[2]')
    accordion
      accordion-group(is-open="true")
        accordion-heading Thresholding
        // The thresholding controls.
        .row   
          .col-md-3.qi-image-ctl-label Lower
          .col-md-9
            slider(floor='0' ceiling='445' step='1' ng-model='image.volume.min')
        .row
          .col-md-3.qi-image-ctl-label Upper
          .col-md-9
            slider(floor='0' ceiling='445' step='1' ng-model='image.volume.max')

block help-text
  // The nested quote ensures evaluation to a string rather than
  // a scope variable.
  .qi-help-text(ng-include="'/partials/help/image-detail.html'")
