
extends ../layout/partial

block billboard
  | {{ image.parent.session.subject.collection | capitalize }}
  | Patient {{ image.parent.session.subject.number }}
  | Session {{ image.parent.session.number }}
  | {{ image.parent.title }}
  | Time Point {{ image.timePoint }}

block content
  .qi-image-background
    qi-series-image.col-md-9.qi-series-image(image='image')
      // Mark up accordian header and image controls.
      .qi-image-ctl
        accordion
          accordion-group(is-open="true")
            accordion-heading Volume
            // The volume opacity control.
            .col
              .row
                .col-md-5.qi-image-ctl-label Opacity
                .col-md-7
                  slider(floor='0' ceiling='1' precision='0.1' ng-model='image.volume.opacity')
            // The slice controls.
            .col.qi-image-ctl-group
              .row
                .col-md-5.qi-image-ctl-label Sagittal
                .col-md-7
                  slider(floor='0' ceiling='319' precision='1' ng-model='image')
              .row   
                .col-md-5.qi-image-ctl-label Coronal
                .col-md-7
                  slider(floor='0' ceiling='319' precision='1' ng-model='image')
              .row
                .col-md-5.qi-image-ctl-label Axial
                .col-md-7
                  slider(floor='0' ceiling='319' precision='1' ng-model='image')
            // The thresholding controls.
            .col.qi-image-ctl-group
              .row   
                .col-md-5.qi-image-ctl-label Lower Threshold
                .col-md-7
                  slider(floor='0' ceiling='445' precision='1' ng-model='image')
              .row
                .col-md-5.qi-image-ctl-label Upper Threshold
                .col-md-7
                  slider(floor='0' ceiling='445' precision='1' ng-model='image')
        accordion
          accordion-group(is-open="true")
            accordion-heading Overlays
            .col
              .btn-group.qi-overlay-select
                button.btn.btn-primary(btn-radio='1' ng-model='image') FXR K<sup>trans</sup>
                button.btn.btn-primary(btn-radio='2' ng-model='image') FXL K<sup>trans</sup>
                button.btn.btn-primary(btn-radio='3' ng-model='image') &Delta;K<sup>trans</sup>
                button.btn.btn-primary(btn-radio='4' ng-model='image') V<sub>e</sub>
                button.btn.btn-primary(btn-radio='5' ng-model='image') tau<sub>i</sub>
            .col.qi-image-ctl-group
              .row
                .col-md-5.qi-image-ctl-label Opacity
                .col-md-7
                  slider(floor='0' ceiling='1' precision='0.1' ng-model='image.volume.labelmap.opacity')

block help-text
  // The nested quote ensures evaluation to a string rather than
  // a scope variable.
  .qi-help-text(ng-include="'/partials/help/image-detail.html'")
