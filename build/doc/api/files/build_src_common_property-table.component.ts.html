<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>build/src/common/property-table.component.ts - qiprofile API</title>
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="http://yui.yahooapis.com/combo?3.8.0pr2/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div class="yui3-g">
        <div id="sidebar" class="yui3-u">
            <div class="logo">
              <a href="../index.html">
                  qiprofile API
              </a>
            </div>
            
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../modules/clinical.html">clinical</a>
                            </li>
                            <li><a href="../modules/collection.html">collection</a>
                            </li>
                            <li><a href="../modules/collections.html">collections</a>
                            </li>
                            <li><a href="../modules/common.html">common</a>
                            </li>
                            <li><a href="../modules/configuration.html">configuration</a>
                            </li>
                            <li><a href="../modules/controls.html">controls</a>
                            </li>
                            <li><a href="../modules/data.html">data</a>
                            </li>
                            <li><a href="../modules/date.html">date</a>
                            </li>
                            <li><a href="../modules/error.html">error</a>
                            </li>
                            <li><a href="../modules/file.html">file</a>
                            </li>
                            <li><a href="../modules/home.html">home</a>
                            </li>
                            <li><a href="../modules/image.html">image</a>
                            </li>
                            <li><a href="../modules/imageSequence.html">imageSequence</a>
                            </li>
                            <li><a href="../modules/main.html">main</a>
                            </li>
                            <li><a href="../modules/modeling.html">modeling</a>
                            </li>
                            <li><a href="../modules/object.html">object</a>
                            </li>
                            <li><a href="../modules/page.html">page</a>
                            </li>
                            <li><a href="../modules/project.html">project</a>
                            </li>
                            <li><a href="../modules/projects.html">projects</a>
                            </li>
                            <li><a href="../modules/protocol.html">protocol</a>
                            </li>
                            <li><a href="../modules/rest.html">rest</a>
                            </li>
                            <li><a href="../modules/roman.html">roman</a>
                            </li>
                            <li><a href="../modules/session.html">session</a>
                            </li>
                            <li><a href="../modules/string.html">string</a>
                            </li>
                            <li><a href="../modules/subject.html">subject</a>
                            </li>
                            <li><a href="../modules/testing.html">testing</a>
                            </li>
                            <li><a href="../modules/visualization.html">visualization</a>
                            </li>
                            <li><a href="../modules/volume.html">volume</a>
                            </li>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/AppComponent.html">AppComponent</a></li>
                            <li><a href="../classes/AppModule.html">AppModule</a></li>
                            <li><a href="../classes/BooleanPipe.html">BooleanPipe</a></li>
                            <li><a href="../classes/Breast.html">Breast</a></li>
                            <li><a href="../classes/BreastNormalizedAssay.html">BreastNormalizedAssay</a></li>
                            <li><a href="../classes/BreastPathology.html">BreastPathology</a></li>
                            <li><a href="../classes/CapitalizePipe.html">CapitalizePipe</a></li>
                            <li><a href="../classes/CascadeSelectComponent.html">CascadeSelectComponent</a></li>
                            <li><a href="../classes/ChoicePipe.html">ChoicePipe</a></li>
                            <li><a href="../classes/ClinicalEncounter.html">ClinicalEncounter</a></li>
                            <li><a href="../classes/CollectionActivatedRouteStub.html">CollectionActivatedRouteStub</a></li>
                            <li><a href="../classes/CollectionComponent.html">CollectionComponent</a></li>
                            <li><a href="../classes/CollectionComponentSpec.html">CollectionComponentSpec</a></li>
                            <li><a href="../classes/CollectionItemComponent.html">CollectionItemComponent</a></li>
                            <li><a href="../classes/CollectionListPage.html">CollectionListPage</a></li>
                            <li><a href="../classes/CollectionListSpec.html">CollectionListSpec</a></li>
                            <li><a href="../classes/CollectionModule.html">CollectionModule</a></li>
                            <li><a href="../classes/CollectionRouterStub.html">CollectionRouterStub</a></li>
                            <li><a href="../classes/CollectionsActivatedRouteStub.html">CollectionsActivatedRouteStub</a></li>
                            <li><a href="../classes/CollectionsComponent.html">CollectionsComponent</a></li>
                            <li><a href="../classes/CollectionsComponentSpec.html">CollectionsComponentSpec</a></li>
                            <li><a href="../classes/CollectionsModule.html">CollectionsModule</a></li>
                            <li><a href="../classes/CollectionsResource.html">CollectionsResource</a></li>
                            <li><a href="../classes/CollectionsService.html">CollectionsService</a></li>
                            <li><a href="../classes/CollectionsServiceStub.html">CollectionsServiceStub</a></li>
                            <li><a href="../classes/CollectionSubectServiceStub.html">CollectionSubectServiceStub</a></li>
                            <li><a href="../classes/Color.html">Color</a></li>
                            <li><a href="../classes/ColorBarDirective.html">ColorBarDirective</a></li>
                            <li><a href="../classes/CommonModule.html">CommonModule</a></li>
                            <li><a href="../classes/ConfigurationService.html">ConfigurationService</a></li>
                            <li><a href="../classes/ConfigurationServiceSpec.html">ConfigurationServiceSpec</a></li>
                            <li><a href="../classes/ControlsModule.html">ControlsModule</a></li>
                            <li><a href="../classes/CorrelationComponent.html">CorrelationComponent</a></li>
                            <li><a href="../classes/DateHelper.html">DateHelper</a></li>
                            <li><a href="../classes/DateHelperSpec.html">DateHelperSpec</a></li>
                            <li><a href="../classes/Encounter.html">Encounter</a></li>
                            <li><a href="../classes/ErrorComponent.html">ErrorComponent</a></li>
                            <li><a href="../classes/ErrorHandler.html">ErrorHandler</a></li>
                            <li><a href="../classes/FileService.html">FileService</a></li>
                            <li><a href="../classes/FileServiceSpec.html">FileServiceSpec</a></li>
                            <li><a href="../classes/Findable.html">Findable</a></li>
                            <li><a href="../classes/FloorPipe.html">FloorPipe</a></li>
                            <li><a href="../classes/HomeComponent.html">HomeComponent</a></li>
                            <li><a href="../classes/IamgeSequenceService.html">IamgeSequenceService</a></li>
                            <li><a href="../classes/Image.html">Image</a></li>
                            <li><a href="../classes/ImageComponent.html">ImageComponent</a></li>
                            <li><a href="../classes/ImageModule.html">ImageModule</a></li>
                            <li><a href="../classes/ImageSequence.html">ImageSequence</a></li>
                            <li><a href="../classes/ImageSequenceServiceSpec.html">ImageSequenceServiceSpec</a></li>
                            <li><a href="../classes/ImageSequenceSessionServiceStub.html">ImageSequenceSessionServiceStub</a></li>
                            <li><a href="../classes/ImageSequenceSpec.html">ImageSequenceSpec</a></li>
                            <li><a href="../classes/ImageStore.html">ImageStore</a></li>
                            <li><a href="../classes/LabelMap.html">LabelMap</a></li>
                            <li><a href="../classes/Modeling.html">Modeling</a></li>
                            <li><a href="../classes/ModelingComponent.html">ModelingComponent</a></li>
                            <li><a href="../classes/ModelingModule.html">ModelingModule</a></li>
                            <li><a href="../classes/ModelingProtocolComponent.html">ModelingProtocolComponent</a></li>
                            <li><a href="../classes/ModelingResult.html">ModelingResult</a></li>
                            <li><a href="../classes/ModelingResults.html">ModelingResults</a></li>
                            <li><a href="../classes/ModelingSourceComponent.html">ModelingSourceComponent</a></li>
                            <li><a href="../classes/MomentPipe.html">MomentPipe</a></li>
                            <li><a href="../classes/ObjectHelper.html">ObjectHelper</a></li>
                            <li><a href="../classes/Page.html">Page</a></li>
                            <li><a href="../classes/PageComponent.html">PageComponent</a></li>
                            <li><a href="../classes/PageModule.html">PageModule</a></li>
                            <li><a href="../classes/PapayaService.html">PapayaService</a></li>
                            <li><a href="../classes/ParameterResult.html">ParameterResult</a></li>
                            <li><a href="../classes/Pathology.html">Pathology</a></li>
                            <li><a href="../classes/PlayerComponent.html">PlayerComponent</a></li>
                            <li><a href="../classes/ProjectItemComponent.html">ProjectItemComponent</a></li>
                            <li><a href="../classes/ProjectListPage.html">ProjectListPage</a></li>
                            <li><a href="../classes/ProjectListSpec.html">ProjectListSpec</a></li>
                            <li><a href="../classes/ProjectsComponent.html">ProjectsComponent</a></li>
                            <li><a href="../classes/ProjectsComponentSpec.html">ProjectsComponentSpec</a></li>
                            <li><a href="../classes/ProjectsModule.html">ProjectsModule</a></li>
                            <li><a href="../classes/ProjectsResource.html">ProjectsResource</a></li>
                            <li><a href="../classes/ProjectsService.html">ProjectsService</a></li>
                            <li><a href="../classes/ProjectsServiceStub.html">ProjectsServiceStub</a></li>
                            <li><a href="../classes/PropertyTableComponent.html">PropertyTableComponent</a></li>
                            <li><a href="../classes/ProtocolResource.html">ProtocolResource</a></li>
                            <li><a href="../classes/ProtocolService.html">ProtocolService</a></li>
                            <li><a href="../classes/RCB.html">RCB</a></li>
                            <li><a href="../classes/Registration.html">Registration</a></li>
                            <li><a href="../classes/RegistrationSpec.html">RegistrationSpec</a></li>
                            <li><a href="../classes/REST.html">REST</a></li>
                            <li><a href="../classes/RestResource.html">RestResource</a></li>
                            <li><a href="../classes/RESTSpec.html">RESTSpec</a></li>
                            <li><a href="../classes/Roman.html">Roman</a></li>
                            <li><a href="../classes/RomanSpec.html">RomanSpec</a></li>
                            <li><a href="../classes/Sarcoma.html">Sarcoma</a></li>
                            <li><a href="../classes/Scan.html">Scan</a></li>
                            <li><a href="../classes/ScanSpec.html">ScanSpec</a></li>
                            <li><a href="../classes/ScatterPlotDirective.html">ScatterPlotDirective</a></li>
                            <li><a href="../classes/Session.html">Session</a></li>
                            <li><a href="../classes/SessionActivatedRouteStub.html">SessionActivatedRouteStub</a></li>
                            <li><a href="../classes/SessionComponent.html">SessionComponent</a></li>
                            <li><a href="../classes/SessionComponentSpec.html">SessionComponentSpec</a></li>
                            <li><a href="../classes/SessionDetailResource.html">SessionDetailResource</a></li>
                            <li><a href="../classes/SessionDetailResourceStub.html">SessionDetailResourceStub</a></li>
                            <li><a href="../classes/SessiondRouterStub.html">SessiondRouterStub</a></li>
                            <li><a href="../classes/SessionModule.html">SessionModule</a></li>
                            <li><a href="../classes/SessionService.html">SessionService</a></li>
                            <li><a href="../classes/SessionServiceSpec.html">SessionServiceSpec</a></li>
                            <li><a href="../classes/SessionServiceStub.html">SessionServiceStub</a></li>
                            <li><a href="../classes/SessionSpec.html">SessionSpec</a></li>
                            <li><a href="../classes/SessionSubjectResourceStub.html">SessionSubjectResourceStub</a></li>
                            <li><a href="../classes/SessionTumorExtent.html">SessionTumorExtent</a></li>
                            <li><a href="../classes/SliderDirective.html">SliderDirective</a></li>
                            <li><a href="../classes/SparkLineDirective.html">SparkLineDirective</a></li>
                            <li><a href="../classes/StringHelper.html">StringHelper</a></li>
                            <li><a href="../classes/StringHelperSpec.html">StringHelperSpec</a></li>
                            <li><a href="../classes/Subject.html">Subject</a></li>
                            <li><a href="../classes/SubjectActivatedRouteStub.html">SubjectActivatedRouteStub</a></li>
                            <li><a href="../classes/SubjectChangeDetectorRefStub.html">SubjectChangeDetectorRefStub</a></li>
                            <li><a href="../classes/SubjectComponent.html">SubjectComponent</a></li>
                            <li><a href="../classes/SubjectComponentSpec.html">SubjectComponentSpec</a></li>
                            <li><a href="../classes/SubjectdRouterStub.html">SubjectdRouterStub</a></li>
                            <li><a href="../classes/SubjectModule.html">SubjectModule</a></li>
                            <li><a href="../classes/SubjectResource.html">SubjectResource</a></li>
                            <li><a href="../classes/SubjectResourceStub.html">SubjectResourceStub</a></li>
                            <li><a href="../classes/SubjectService.html">SubjectService</a></li>
                            <li><a href="../classes/SubjectServiceSpec.html">SubjectServiceSpec</a></li>
                            <li><a href="../classes/SubjectServiceStub.html">SubjectServiceStub</a></li>
                            <li><a href="../classes/SubjectSpec.html">SubjectSpec</a></li>
                            <li><a href="../classes/Symbol.html">Symbol</a></li>
                            <li><a href="../classes/Table.html">Table</a></li>
                            <li><a href="../classes/TimeLineDirective.html">TimeLineDirective</a></li>
                            <li><a href="../classes/TimeSeries.html">TimeSeries</a></li>
                            <li><a href="../classes/TNM.html">TNM</a></li>
                            <li><a href="../classes/Treatment.html">Treatment</a></li>
                            <li><a href="../classes/UnderscorePipe.html">UnderscorePipe</a></li>
                            <li><a href="../classes/UnspecifiedPipe.html">UnspecifiedPipe</a></li>
                            <li><a href="../classes/VisualizationModule.html">VisualizationModule</a></li>
                            <li><a href="../classes/Volume.html">Volume</a></li>
                            <li><a href="../classes/VolumeComponent.html">VolumeComponent</a></li>
                            <li><a href="../classes/VolumeDetailPage.html">VolumeDetailPage</a></li>
                            <li><a href="../classes/VolumeImageSequenceServiceStub.html">VolumeImageSequenceServiceStub</a></li>
                            <li><a href="../classes/VolumeModule.html">VolumeModule</a></li>
                            <li><a href="../classes/VolumeService.html">VolumeService</a></li>
                            <li><a href="../classes/VolumeServiceSpec.html">VolumeServiceSpec</a></li>
                            <li><a href="../classes/VolumeSpec.html">VolumeSpec</a></li>
                            <li><a href="../classes/XNAT.html">XNAT</a></li>
                            <li><a href="../classes/XNATSpec.html">XNATSpec</a></li>
                    </ul>
                </div>
            </div>
            
            
            
            
            
            <div class="version-info">
              Version: 2.1.1
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><div class="title">
  <h1 class="file-name">build/src/common/property-table.component.ts</h1>
</div>

<pre class="code prettyprint linenums">
import * as _ from &#x27;lodash&#x27;;
import * as _s from &#x27;underscore.string&#x27;;
import {
  Component, Input, OnInit, ChangeDetectionStrategy, ChangeDetectorRef
} from &#x27;@angular/core&#x27;;

import StringHelper from &#x27;../string/string-helper.coffee&#x27;;
import ObjectHelper from &#x27;../common/object-helper.coffee&#x27;;

const MISSING_VALUE = &#x27;Not Specified&#x27;;

@Component({
  selector: &#x27;qi-property-table&#x27;,
  templateUrl: &#x27;/public/html/common/property-table.html&#x27;,
  // Instruct Angular to disable change detection until this
  // component tells it to do so.
  changeDetection: ChangeDetectionStrategy.OnPush
})

/**
 * The property table displays object properties.
 *
 * @module common
 * @class PropertyTableComponent
 */
export class PropertyTableComponent implements OnInit {
  /**
   * The input object holding the properties to display.
   *
   * @property object: Object
   */
  @Input() object: Object;

  /**
   * The property path to the
   * {{#crossLink &quot;PropertyTableComponent/object:property&quot;}}{{/crossLink}}.
   * If this input path is set, then it is prepended to each object property
   * path for label lookup.
   *
   * @property path {string}
   */
  @Input() path: string;

  /**
   * The optional title displayed above the table.
   *
   * @property title: string
   */
  @Input() title: string;

  /**
   * The property name =&gt; label function, used as described in
   * {{#crossLink &quot;PropertyTableComponent/getLabel&quot;}}{{/crossLink}}.
   *
   * The return value can be unescaped HTML, i.e. embedded HTML is
   * interpreted. For example, &#x60;&amp;tau;&lt;sub&gt;i&lt;/sub&gt;&#x60; displays as
   * &lt;span&gt;&amp;tau;&lt;sub&gt;i&lt;/sub&gt;&lt;/span&gt;.  A simple string return value
   * is displayed as the string value. A null or undefined return
   * is displayed as the
   * {{#crossLink &quot;PropertyTableComponent/getLabel&quot;}}{{/crossLink}}
   * default.
   *
   * @property label {function}
   */
  @Input() label: (key: string) =&gt; string;

  /**
   * The display value formatting function.
   *
   * See
   * {{#crossLink &quot;PropertyTableComponent/getDisplayValue&quot;}}{{/crossLink}}
   * for the &#x60;format&#x60; input property usage.
   *
   * @property format {function}
   */
  @Input() format: (value: any) =&gt; any;

  /**
   * The optional value {path: {value: label}} associative object,
   * where *path* is the property select choice path.
   *
   * See
   * {{#crossLink &quot;PropertyTableComponent/getDisplayValue&quot;}}{{/crossLink}}
   * for the &#x60;valueChoices&#x60; input property usage.
   *
   * @property valueChoices {Object}
   */
  @Input() valueChoices: Object;

  /**
   * The optional property names to always include, whether
   * or not there is a non-null property value. This property
   * has precedence if the
   * {{#crossLink &quot;PropertyTableComponent/validate&quot;}}{{/crossLink}}
   * flag is &#x60;true&#x60;.
   *
   * @property include {string[]}
   */
  @Input() include: string[];

  /**
   * The optional property names to ignore. If the
   * {{#crossLink &quot;PropertyTableComponent/parent:property&quot;}}{{/crossLink}}
   * is set, then any property which references the parent is ignored.
   *
   * @property exclude {string[]}
   */
  @Input() exclude: string[];

  /**
   * Flag indicating whether to display &#x60;Not Specified&#x60;
   * for properties which are set to null (default true).
   *
   * @property validate {boolean}
   */
  @Input() validate: boolean;

  /**
   * Flag indicating whether to expand each child object into
   * its own property table (default true).
   *
   * @property expand {boolean}
   */
  @Input() expand: boolean;

  /**
   * The object which contains the
   * {{#crossLink &quot;PropertyTableComponent/object:property&quot;}}{{/crossLink}}.
   * Any property which references the parent is ignored.
   *
   * @property parent {Object}
   */
  @Input() parent: Object;

  /**
   * The sorted
   * {{#crossLink &quot;PropertyTableComponent/object:property&quot;}}{{/crossLink}}
   * keys which hold a non-empy string or finite numeric value.
   *
   * @property simpleKeys {string[]}
   */
  simpleKeys: string[];

  /**
   * The sorted
   * {{#crossLink &quot;PropertyTableComponent/object:property&quot;}}{{/crossLink}}
   * keys which hold a non-empty object value.
   *
   * @property compositeKeys {string[]}
   */
  compositeKeys: string[];

  constructor(private changeDetector: ChangeDetectorRef) { }

  ngOnInit() {
    // Private properties start with _.
    let isPublic = (key) =&gt; !key.startsWith(&#x27;_&#x27;);
    // The public properties.
    let publicProps = _.keys(this.object).filter(isPublic);
    // Ignore the excludes, parent references and invalid properties.
    let isDisplayable = key =&gt; this.isDisplayable(key);
    // The displayable properties.
    let selected = publicProps.filter(isDisplayable);
    // Add back unconditional includes.
    let include = this.include || [];
    let others = _.reject(include, key =&gt; _.includes(selected, key));
    // The candidate keys sorted by name.
    let keys = _.concat(selected, others).sort();

    // Split the candidate keys into simple and composite.
    let isSimple = key =&gt; ObjectHelper.isSimple(this.object[key]);
    let [simple, composite] = _.partition(keys, isSimple);
    // The non-object candidate keys.
    this.simpleKeys = simple;
    // If the expand property is not set to false, then set the
    // composite candidate keys.
    if (this.expand === false) {
      this.compositeKeys = [];
    } else {
      this.compositeKeys = composite;
    }
    // Tell Angular to digest the change.
    this.changeDetector.markForCheck();
  }

  /**
   * Returns the label for the given
   * {{#crossLink &quot;PropertyTableComponent/simpleKeys:property&quot;}}{{/crossLink}}
   * key. If the
   * {{#crossLink &quot;PropertyTableComponent/label:property&quot;}}{{/crossLink}}
   * function is set, then that function is called on the key. If there
   * is a result, then that is the label. Otherwise, the default label
   * is the humanized, capitalized property name described in
   * {{#crossLink &quot;StringHelper/labelize&quot;}}{{/crossLink}}.
   *
   * @method getLabel
   * @param property {string} the child property name (not a path)
   * @return {string} the display value
   */
  getLabel(property: string) {
    let label;
    if (this.label) {
      let path = this.getPath(property);
      label = this.label(path);
    }
    if (!label) {
      label = StringHelper.labelize(property);
    }

    return label;
  }

  /**
   * Returns the display value for the given
   * {{#crossLink &quot;PropertyTableComponent/simpleKeys:property&quot;}}{{/crossLink}}
   * key.
   *
   * The display value is determined as follows:
   * * If {{#crossLink &quot;PropertyTableComponent/valueChoices:property&quot;}}{{/crossLink}}
   *   is set and the key/value combination is the choices lookup,
   *   then that lookup target is the display value.
   * * Otherwise, if the
   *   {{#crossLink &quot;PropertyTableComponent/format:property&quot;}}{{/crossLink}}
   *   function is set, then this method delegates to that function.
   * * Otherwise, if the value is boolean, then the display value capitalizes
   *   the boolean string value, e.g. &#x60;True&#x60;.
   * * Otherwise, the string conversion of the value itself is displayed.
   *
   * @method getDisplayValue
   * @param key {string} the simple key
   * @return {any} the display value
   */
  getDisplayValue(key: string): string {
    let value = this.object[key];
    return this.formatDisplayValue(value, key);
  }

  /**
   * Returns the child objects for the given
   * {{#crossLink &quot;PropertyTableComponent/compositeKeys:property&quot;}}{{/crossLink}}
   * key.
   *
   * @method children
   * @param key {string} the composite key
   * @return {Object[]} the child objects
   */
  children(key: string): Object[] {
    let value = this.object[key];

    return _.isArray(value) ? value : [value];
  }

  /**
   * Augments the given property with the
   * {{#crossLink &quot;PropertyTableComponent/path:property&quot;}}{{/crossLink}},
   * if that parent path is set.
   *
   * @method getPath
   * @param property {string} a property path relative to the
   *   {{#crossLink &quot;PropertyTableComponent/object:property&quot;}}{{/crossLink}}
   * @return {string} the augmented property path
   */
  getPath(property: string): string {
    return this.path ? &#x60;${ this.path }.${ property }&#x60; : property;
  }

  /**
   * Returns whether this table&#x27;s
   * {{#crossLink &quot;PropertyTableComponent/object:property&quot;}}{{/crossLink}}
   * has displayable properties.
   *
   * @method hasContent
   * @return {boolean} whether there is displayable content
   */
  hasContent(): boolean {
    return !this.isEmpty();
  }

  /**
   * Returns the display value for the given
   * {{#crossLink &quot;PropertyTableComponent/getDisplayValue&quot;}}{{/crossLink}}
   * key and value.
   *
   * @method formatDisplayValue
   * @param value {any} the value to display
   * @param key {string} the simple key
   * @return {any} the display value
   */
  private formatDisplayValue(value: any, key: string): string {
    if (_.isArray(value)) {
      let cleaned = _.omit(value, _.isNil);
      if (_.isEmpty(cleaned)) {
        return MISSING_VALUE;
      }
      let recurse = item =&gt; this.formatDisplayValue(item, key);
      return value.map(recurse).join(&#x27;, &#x27;);
    } else if (ObjectHelper.hasValidContent(value)) {
      if (this.valueChoices) {
        let label = this.getLabel(key);
        let choices = this.valueChoices[label];
        let choice = _.get(choices, value);
        if (choice) {
          return choice;
        }
      }
      if (this.format) {
        return this.format(value);
      } else if (_.isBoolean(value)) {
        return _s.capitalize(value.toString());
      } else {
        return value;
      }
    } else {
      return MISSING_VALUE;
    }
  }

  /**
   * Returns whether the given property key is not in the
   * {{#crossLink &quot;PropertyTableComponent/exclude:property&quot;}}{{/crossLink}}
   * list, does not reference the
   * {{#crossLink &quot;PropertyTableComponent/parent:property&quot;}}{{/crossLink}}
   * and satisfies
   * {{#crossLink &quot;ObjectHelper/hasValidContent&quot;}}{{/crossLink}}.
   *
   * @method isDisplayable
   * @private
   * @param key {string} the composite key
   * @return {boolean} whether the property should be displayed
   */
  private isDisplayable(key: string) {
    if (_.includes(this.exclude, key)) {
      return false;
    }
    let value = this.object[key];
    if (this.parent &amp;&amp; (value === this.parent)) {
      return false;
    } else if (this.validate === false) {
      return true;
    } else {
      return ObjectHelper.hasValidContent(value);
    }
  }

  /**
   * Returns whether this table&#x27;s
   * {{#crossLink &quot;PropertyTableComponent/object:property&quot;}}{{/crossLink}}
   * has no displayable properties.
   *
   * @return {boolean} whether there has no displayable content
   */
  private isEmpty(): boolean {
    return _.isEmpty(this.simpleKeys) &amp;&amp; _.isEmpty(this.compositeKeys);
  }
}

</pre>

</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
</body>
</html>
