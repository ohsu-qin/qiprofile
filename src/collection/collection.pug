extends ../layout/partial

block billboard
  | {{ name }} Collection

block content
  .row.qi-collection
    .col-md-2.qi-align-top
      .qi-sessions-chart(
        qi-scatter-plot, [height]="sessionsChart.height",
        [data]="sessions", [color]="'subject.number'",
        [symbolType]="symbolType",
        [margin]="sessionsChartMargin",
        [x]="sessionsChart.x.property",
        [y]="sessionsChart.y.property", [yDiscrete]=true,
        [onAxis]="onSessionsChartAxis",
        (plotted)="onSessionsChartPlotted($event)",
        [selection]="domainSelection",
        (select)="onBrushSelect($event)"
      )
    .col-md-10
      // Double up the correlation charts horizontally in the
      // remaining space.
      qi-correlation.col-md-6(
        *ngFor="let correlation of correlations",
        [data]="sessions", [color]="'subject.number'",
        [symbolType]="symbolType",
        [valueChoices]="valueChoices",
        [xPropertyChoices]="propertyChoices",
        [yPropertyChoices]="propertyChoices",
        [xPropertyPath]="correlation.x",
        [yPropertyPath]="correlation.y",
        [domainSelection]="domainSelection",
        (select)="onBrushSelect($event)"
      )
