h4.col-md-offset-1
  | Clinical Profile
.qi-profile-panel
  accordion
    accordion-group(is-open="config.demogrOpen")
      accordion-heading Demographics
        i.pull-right.glyphicon(ng-class="{'glyphicon-chevron-down': config.demogrOpen, 'glyphicon-chevron-up': !config.demogrOpen}")
      .row
        .col-md-2.qi-clinical-prop Age
        .col-md-10 {{ subject.age }}
      .row
        .col-md-2.qi-clinical-prop Race
        .col-md-10 {{ config.races }}
      .row
        .col-md-2.qi-clinical-prop Ethnicity
        .col-md-10 {{ config.ethnicity }}
  accordion(ng-repeat="enc in config.encounters")
    accordion-group(is-open="enc.accordion_open")
      accordion-heading {{ enc.encounter_type }}
        i.pull-right.glyphicon(ng-class="{'glyphicon-chevron-down': enc.accordion_open, 'glyphicon-chevron-up': !enc.accordion_open}")
      .row.qi-clin-profile-row
        .col-md-1.qi-clin-profile-prop-name Date
        .col-md-11 {{ enc.date | moment }}
      .row(ng-repeat="outcome in enc.outcomes")
        // Column displaying tumor staging and grade information.
        // Hide the column if there is no data.
        .col-md-6(ng-show="outcome.is_staging_or_grade_data")
          // Tumor staging tile.
          qi-clinical-profile-tile(outcome='outcome' tile='tnm')
          // Nottingham grade tile.
          qi-clinical-profile-tile(outcome='outcome' tile='grade')
        // Column displaying hormone receptor and expression data.
        .col-md-6
          // Estrogen Receptor.
          qi-clinical-profile-tile(outcome='outcome' tile='estrogen')
          // Progesterone Receptor.
          qi-clinical-profile-tile(outcome='outcome' tile='progestrogen')
          // Expression.
          qi-clinical-profile-tile(outcome='outcome' tile='expression')
